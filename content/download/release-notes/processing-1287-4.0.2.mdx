---
title: Processing 4.0.2
date: 2024-08-19T06:44:37Z
prerelease: false
tagName: processing-1287-4.0.2
release: true
---
*Revision 1287 ‚Äì¬†24 November 2022*

ü¶É Happy Thanksgiving! ü¶É

Fixing more regressions and other steps backward found since the 4.0 release. Enjoy!


## the big ones

* OpenGL apps now work with macOS Ventura, once again thanks to @jaegonlee. [#544](https://github.com/processing/processing4/issues/544)

* Library version number parsing wasn't ignoring comments properly, so libraries that followed the template closely were showing `The version number for ‚Äú‚Ä¶‚Äù is not a number`. [#586](https://github.com/processing/processing4/issues/586), [#553](https://github.com/processing/processing4/issues/553)

* The Updates tab of the Contribution Manager was throwing error messages about `this.progressBar`. [#567](https://github.com/processing/processing4/issues/567)

* `fullScreen()` with `pixelDensity(2)` was broken with the default renderer. On startup, the sketch would report `Display -1 does not exist, returning 1 for displayDensity(-1)`. [#487](https://github.com/processing/processing4/issues/487)

* JSSC update for M1/M2 from @sampottinger [#525](https://github.com/processing/processing4/issues/525), [#577](https://github.com/processing/processing4/pull/577)


## the li'l and medium ones

* After creating 26 sketches, the ‚Äútake a break‚Äù¬†message still showed up after restarting Processing. [#582](https://github.com/processing/processing4/issues/582)

* With multiple users sharing a machine, Processing would not work properly for the second user due to a problem with the temporary directory. [#549](https://github.com/processing/processing4/issues/549)

* Added explanation for how to fix Processing when a user disallows access to the Documents folder on macOS. [#581](https://github.com/processing/processing4/issues/581)

* Fixed an infinite loop that could be caused by running out of options for a sketch naming scheme.

* When calling `random()` on a list (now `choice()`) with no elements, it would throw a weird `Exception`. Now it throws a more descriptive exception.


## need some help here

Contributions from the community!

* Loading SVG file was giving `Illegal base64 character 20 encoding error`. Fixed thanks to @jaegonlee and @vepo. [#592](https://github.com/processing/processing4/issues/592), [#599](https://github.com/processing/processing4/pull/599)

* Updated Catalan translation thanks to @trikaphundo. [#550](https://github.com/processing/processing4/issues/550), [#554](https://github.com/processing/processing4/pull/554)

* Updates to the Spanish translation, also from @trikaphundo! [#552](https://github.com/processing/processing4/issues/552), [#574](https://github.com/processing/processing4/pull/574)

* A couple fixes for the Ukranian language strings from @rzats. [#585](https://github.com/processing/processing4/pull/585)

* @LesleyWagner fixed the vertical placement of top elements in the Manager window. [#520](https://github.com/processing/processing4/issues/520), [#539](https://github.com/processing/processing4/pull/539)

* Preprocessor fix from @sampottinger for function/variable "does not exist" errors reported when defining a class without `setup()` or `draw()`. [#579](https://github.com/processing/processing4/issues/579), [#597](https://github.com/processing/processing4/pull/597)


## steps forward

* Added a `choice()` method to the `XxxxList` classes, which returns a random value from the list. Similarly `removeChoice()` removes a random element from the list and returns the value.

* Also added a `choice()` method that returns random integers. So `int value = choice(10)` is a shorthand way of saying `int value = (int) random(10)`

* Removed the `choice()` (formerly `random()`) method from the `XxxxList` classes that took a `PApplet` object for its random number seed/generator. Just feels like overkill at this point.


## internal changes

* Using more Java 17 syntax in the code. No plans to really scrub everything to change the syntax over, just a matter of cleaning things up as we go.

* Fixed a potential casting problem with `Platform` and `DefaultPlatform`. Should have been unreachable, but fixed anyway.

* Brought back `getCodeIndex()` for GUI Builder Tool‚Ä¶¬†then removed it again. [#545](https://github.com/processing/processing4/issues/545), [#596](https://github.com/processing/processing4/issues/596)


## me talking on the wiki

* Added a [Translations](https://github.com/processing/processing4/wiki/Translations) page to the 4.x wiki, which is update to the [Localization](https://github.com/processing/processing/wiki/Localization) page from the 3.x repository.

* Posted [an explanation](https://github.com/processing/processing4/wiki/Naming-Sketches) of how to create a `naming.json` file so you can set up your own sketch naming schemes.

      