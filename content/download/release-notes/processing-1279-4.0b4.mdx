---
title: Processing 4.0 beta 4
date: 2024-08-19T06:43:57Z
prerelease: false
tagName: processing-1279-4.0b4
release: true
---
*Revision 1279 – 24 January 2022*

Loooots of changes under the hood to better support more platforms. And by that, we mean Apple Silicon (now in alpha!) and Raspberry Pi devices (once again). And whatever else gets cooked up in the coming years.

For the Windows users, the scaling issues have finally been sorted out. Use 125% and 250% and whatever weird Windows scaling you want, and it will work. You can safely uncheck the “Disable HiDPI scaling” checkbox in Preferences.

Against my better judgement, I'm posting a release that's native for Apple Silicon. **OpenGL is currently broken. Sketches crash immediately.** You should only use it if you're a masochist. Or a masochist that likes *extremely fast* but very incomplete software, and won't file bug reports saying “OpenGL is broken.” But it's being posted for folks who do not need OpenGL, and/or want to help debug. [#370](https://github.com/processing/processing4/issues/370)

We've also moved the FX2D (JavaFX) renderer to its own library, which is available from the Contributions Manager. In related news, the download size is now 230 MB instead of 493 MB.


## New features!

* New downloads for Apple Silicon (incomplete! [#128](https://github.com/processing/processing4/issues/128)), and Raspberry Pi (32- and 64-bit). Some things are still broken, so the releases will be on Github but not processing.org/download.

* The design continues coming together, with new icons for exported applications, document files (`.pde`, `.pdex`, and `.pdez`), plus the Foundation icon used in the Contributions Manager. This work is still in progress, at least until [#48](https://github.com/processing/processing4/issues/48) is closed.

* Re-implement settings.path to support portable versions. [#3948](https://github.com/processing/processing/issues/3948), [362](https://github.com/processing/processing4/issues/362), [#360](https://github.com/processing/processing4/pull/360), fixed with [1a49263a](https://github.com/processing/processing4/commit/1a49263a94a2d7af2b4686286406f7896d207cd9)


## We're all regressing, why can't your software?

* Double-clicking .pde files on macOS was broken in beta 3. [#347](https://github.com/processing/processing4/issues/347)

* PShape not allowing attibutes of type `int`. [#344](https://github.com/processing/processing4/issues/344), [#363](https://github.com/processing/processing4/pull/363)

* Using `P2D` with `createShape()` causing `GLException`. [#353](https://github.com/processing/processing4/issues/353), [#367](https://github.com/processing/processing4/pull/367)

* Fix error in internal utility function to invert scaling. [#366](https://github.com/processing/processing4/issues/366), [#217](https://github.com/processing/processing4/issues/217), [#367](https://github.com/processing/processing4/pull/367)


## Other fixes…

* Tons of work to get the Windows version of the application to scale properly. Even the opening splash screen is behaving better. [#342](https://github.com/processing/processing4/issues/342)

* `displayDensity()` was returning 1 when run from the PDE on Windows. [#339](https://github.com/processing/processing4/issues/339)

* Fix "Could not delete disable_hidpi" message that was showing up on macOS and Linux after closing the Preferences window.

* Major work inside the Contributions Manager: links to projects, links in description text now working. Some fixes to speed things up. Removing hundreds of lines of vestigial code. Fix the font being used on the progress bar.

* Removed "Illegal reflective access" warning on Linux. [#207](https://github.com/processing/processing4/issues/207)


## Changes

* Native libraries for OpenGL are no longer packed inside `.jar` files. This fixes slowdowns on Windows caused by antivirus software kicking into high gear. It also gives us a path to get OpenGL working on Apple Silicon. Unfortunately, this also means you'll need to set `java.library.path` in an IDE outside the PDE. [#4783](https://github.com/processing/processing/issues/4783#issuecomment-269328168), [#4239](https://github.com/processing/processing/issues/4239), [JOGL](https://jogamp.org/bugzilla/show_bug.cgi?id=1301), [Stack Overflow](https://stackoverflow.com/a/51100411)

* JavaFX moved to its own library. It no longer works with Tools and Modes as a result, but it was just too hefty relative to its importance. Read about it in [#348](https://github.com/processing/processing4/issues/348)

* A massive amount of work for our supported platforms. Some of the gritty details are [here](https://github.com/processing/processing4/wiki/Supported-Platforms) but we have six of them. Export to Application has been rewritten. It's now possible to build Processing on all six of these platforms.

* Cross-platform support for native libraries has also changed significantly. The `export.txt` file is ignored completely (no libraries required it anyway), and the subfolders names for native libraries have changed. See the layout of `core/library` for an example. Again, this enables all these platforms from Apple Silicon to Raspberry Pi.


## Contributed tidbits

* Select the entire line when doing Edit → Copy on an empty selection. [#100](https://github.com/processing/processing4/pull/100)


## You probably won't notice, but it's noted here in case you do

* Set the minimum Java version for Windows launcher to 17.0.1.

* Bumped Ant from 1.10.10 to 1.10.12.

* Upgraded JNA from 5.8.0 to 5.10.0.

* Spent a bunch of time looking into RSyntaxArea. It's not gonna happen. [#355](https://github.com/processing/processing4/issues/355), [#3199](https://github.com/processing/processing/issues/3199), and [the details](https://github.com/processing/processing4/blob/master/app/src/processing/app/syntax/README.md).

      